{"version":3,"sources":["firebase/firebase.js","credentials.js","firebase/auth.js","pages/Login.js","components/SignOut.js","components/AuthUserContext.js","components/withAuthorization.js","pages/Dashboard.js","App.js","components/withAuthentication.js","index.js"],"names":["config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebase","apps","length","initializeApp","auth","doCreateUserWithEmailAndPassword","email","password","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","byPropKey","propertyName","value","Object","defineProperty","INITIAL_STATE","error","Login","state","onSubmit","event","_this$state","_this","history","props","then","setState","objectSpread","push","catch","preventDefault","_this2","this","_this$state2","isInvalid","react_default","a","createElement","className","Grid","textAlign","style","height","verticalAlign","Column","maxWidth","Header","as","color","Icon","name","Form","size","Segment","stacked","Input","onChange","target","fluid","icon","iconPosition","placeholder","type","Button","disabled","message","Component","withRouter","SignOutButton","onClick","AuthUserContext","React","createContext","withAuthorization","authCondition","WrappedComponent","WithAuthorization","_Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","onAuthStateChanged","authUser","components_AuthUserContext","Consumer","Dashboard","SignOut","withAuthentication","WithAuthentication","call","Provider","Switch","Route","exact","path","component","ReactDOM","render","HashRouter","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.17eb3fb6.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport FirebaseAPIKey from \"../credentials\";\n\nconst config = {\n  apiKey: FirebaseAPIKey,\n  authDomain: \"greenleaf-8aa9b.firebaseapp.com\",\n  databaseURL: \"https://greenleaf-8aa9b.firebaseio.com\",\n  projectId: \"greenleaf-8aa9b\",\n  storageBucket: \"\",\n  messagingSenderId: \"537893788938\"\n};\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n}\n\nconst auth = firebase.auth();\n\nexport { auth };\n","const FirebaseAPIKey = \"AIzaSyAAZri65JCYTUIjvVgU6mB-tXz118lUhbQ\";\n\nexport default FirebaseAPIKey;\n","import { auth } from \"./firebase\";\n\n// Sign Up\nexport const doCreateUserWithEmailAndPassword = (email, password) =>\n  auth.createUserWithEmailAndPassword(email, password);\n\n// Sign In\nexport const doSignInWithEmailAndPassword = (email, password) =>\n  auth.signInWithEmailAndPassword(email, password);\n\n// Sign out\nexport const doSignOut = () => auth.signOut();\n\n// Password Reset\nexport const doPasswordReset = email => auth.sendPasswordResetEmail(email);\n\n// Password Change\nexport const doPasswordUpdate = password =>\n  auth.currentUser.updatePassword(password);\n","import React, { Component } from \"react\";\nimport \"../styles/Login.css\";\nimport { Button, Form, Grid, Header, Icon, Segment } from \"semantic-ui-react\";\nimport { auth } from \"../firebase\";\nimport { withRouter } from \"react-router-dom\";\n\nconst byPropKey = (propertyName, value) => () => ({\n  [propertyName]: value\n});\n\nconst INITIAL_STATE = {\n  email: \"\",\n  password: \"\",\n  error: null\n};\n\nclass Login extends Component {\n  state = {};\n\n  onSubmit = event => {\n    const { email, password } = this.state;\n\n    const { history } = this.props;\n\n    auth\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        history.push(\"/GreenLeaf/dashboard\");\n      })\n      .catch(error => {\n        this.setState(byPropKey(\"error\", error));\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { email, password, error } = this.state;\n\n    const isInvalid = password === \"\" || email === \"\";\n\n    return (\n      <div className=\"login-form\">\n        <Grid\n          textAlign=\"center\"\n          style={{ height: \"100%\" }}\n          verticalAlign=\"middle\"\n        >\n          <Grid.Column style={{ maxWidth: 450 }}>\n            <Header as=\"h2\" color=\"grey\" textAlign=\"center\">\n              <Icon name=\"signup\" /> Log-in to your account\n            </Header>\n            <Form size=\"large\" onSubmit={this.onSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  value={email}\n                  onChange={event =>\n                    this.setState(byPropKey(\"email\", event.target.value))\n                  }\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Email\"\n                />\n                <Form.Input\n                  fluid\n                  value={password}\n                  onChange={event =>\n                    this.setState(byPropKey(\"password\", event.target.value))\n                  }\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                />\n                <Button disabled={isInvalid} color=\"green\" fluid size=\"large\">\n                  Login\n                </Button>\n                {error && <p>{error.message}</p>}\n              </Segment>\n            </Form>\n          </Grid.Column>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Login);\n","import React from \"react\";\nimport { auth } from \"../firebase\";\nimport { Button } from \"semantic-ui-react\";\n\nconst SignOutButton = () => <Button onClick={auth.doSignOut}>Sign Out</Button>;\n\nexport default SignOutButton;\n","import React from \"react\";\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport AuthUserContext from \"./AuthUserContext\";\nimport { firebase } from \"../firebase\";\n\nconst withAuthorization = authCondition => WrappedComponent => {\n  class WithAuthorization extends Component {\n    componentDidMount() {\n      firebase.auth.onAuthStateChanged(authUser => {\n        if (!authCondition(authUser)) {\n          this.props.history.push(\"/GreenLeaf\");\n        }\n      });\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Consumer>\n          {authUser => (authUser ? <WrappedComponent {...this.props} /> : null)}\n        </AuthUserContext.Consumer>\n      );\n    }\n  }\n  return withRouter(WithAuthorization);\n};\n\nexport default withAuthorization;\n","import React, { Component } from \"react\";\nimport SignOutButton from \"../components/SignOut\";\nimport withAuthorization from \"../components/withAuthorization\";\nimport AuthUserContext from \"../components/AuthUserContext\";\n\nclass Dashboard extends Component {\n  render() {\n    return (\n      <div>\n        <AuthUserContext.Consumer>\n          {authUser => <div>Hello {authUser.email}</div>}\n        </AuthUserContext.Consumer>\n        <SignOutButton />\n      </div>\n    );\n  }\n}\n\nconst authCondition = authUser => !!authUser;\n\nexport default withAuthorization(authCondition)(Dashboard);\n","import React, { Component } from \"react\";\nimport \"./styles/App.css\";\nimport Login from \"./pages/Login\";\nimport Dashboard from \"./pages/Dashboard\";\nimport { Switch, Route } from \"react-router-dom\";\nimport withAuthentication from \"./components/withAuthentication\";\n\nclass App extends Component {\n  render() {\n    return (\n      <Switch>\n        <Route exact path=\"/\" component={Login} />\n        <Route exact path=\"/dashboard\" component={Dashboard} />\n      </Switch>\n    );\n  }\n}\n\nexport default withAuthentication(App);\n","import React, { Component } from \"react\";\nimport { firebase } from \"../firebase\";\nimport AuthUserContext from \"./AuthUserContext\";\n\nconst withAuthentication = WrappedComponent => {\n  return class WithAuthentication extends Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        authUser: null\n      };\n    }\n\n    componentDidMount() {\n      firebase.auth.onAuthStateChanged(authUser => {\n        authUser\n          ? this.setState({ authUser })\n          : this.setState({ authUser: null });\n      });\n    }\n\n    render() {\n      const { authUser } = this.state;\n      return (\n        <AuthUserContext.Provider value={authUser}>\n          <WrappedComponent {...this.props} />\n        </AuthUserContext.Provider>\n      );\n    }\n  };\n};\n\nexport default withAuthentication;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./App\";\nimport { HashRouter } from \"react-router-dom\";\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}