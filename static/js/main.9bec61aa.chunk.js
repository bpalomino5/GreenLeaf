(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{238:function(e,t,n){e.exports=n(423)},243:function(e,t,n){},245:function(e,t,n){},247:function(e,t,n){},369:function(e,t,n){},423:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"auth",function(){return S}),n.d(a,"db",function(){return I}),n.d(a,"dbTools",function(){return k});var r={};n.r(r),n.d(r,"doCreateUserWithEmailAndPassword",function(){return M}),n.d(r,"doSignInWithEmailAndPassword",function(){return A}),n.d(r,"doSignOut",function(){return B}),n.d(r,"doPasswordReset",function(){return U}),n.d(r,"doPasswordUpdate",function(){return D});var l={};n.r(l),n.d(l,"getOtherUsers",function(){return R}),n.d(l,"getMyUser",function(){return L}),n.d(l,"getAllBills",function(){return z}),n.d(l,"updateMasterBills",function(){return J}),n.d(l,"updateCurrentBills",function(){return G}),n.d(l,"addBill",function(){return Y});var o=n(0),c=n.n(o),u=n(64),i=n.n(u),s=(n(243),n(27)),m=n(28),p=n(30),d=n(29),h=n(31),f=(n(245),n(47)),y=n(38),v=(n(247),n(443)),b=n(444),g=n(206),E=n(435),C=n(447),O=n(442),w=n(441),x=n(66),P=n.n(x),j=(n(256),n(258),{apiKey:"AIzaSyAAZri65JCYTUIjvVgU6mB-tXz118lUhbQ",authDomain:"greenleaf-8aa9b.firebaseapp.com",databaseURL:"https://greenleaf-8aa9b.firebaseio.com",projectId:"greenleaf-8aa9b",storageBucket:"",messagingSenderId:"537893788938"});P.a.apps.length||P.a.initializeApp(j);var k=P.a.firestore.FieldValue,I=P.a.firestore(),S=P.a.auth(),M=function(e,t){return S.createUserWithEmailAndPassword(e,t)},A=function(e,t){return S.signInWithEmailAndPassword(e,t)},B=function(){return S.signOut()},U=function(e){return S.sendPasswordResetEmail(e)},D=function(e){return S.currentUser.updatePassword(e)},T=n(16),N=n.n(T),H=n(19),R=function(){var e=Object(H.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,I.collection("users").get();case 3:return e.sent.forEach(function(e){e.get("uid")!==S.currentUser.uid&&t.push(e.data())}),e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(H.a)(N.a.mark(function e(){var t,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.collection("users").get();case 2:return t=e.sent,n=null,t.forEach(function(e){e.get("uid")===S.currentUser.uid&&(n=e.data())}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(H.a)(N.a.mark(function e(){var t,n,a,r,l,o,c,u=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"",n=u.length>1&&void 0!==u[1]?u[1]:"",""!==t&&""!==n||(a=new Date,t=a.toLocaleString("en-us",{year:"numeric"}),n=a.toLocaleString("en-us",{month:"long"})),r=[],l=I.collection("years/".concat(t,"/months")).doc(n),e.next=7,l.get();case 7:if(!(o=e.sent).exists){e.next=13;break}return e.next=11,Promise.all(o.get("bills").map(function(){var e=Object(H.a)(N.a.mark(function e(t){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ref.get();case 2:n=e.sent,r.push({ref:t.ref,amountPayed:t.amountPayed,isPayed:t.isPayed,url:n.get("url"),paymentType:n.get("paymentType"),due:n.get("due"),username:n.get("username"),password:n.get("password"),notes:n.get("notes"),name:n.get("name"),mPayment:n.get("mPayment")});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 11:e.next=20;break;case 13:return c=[],e.next=16,I.collection("bills").get();case 16:return e.sent.forEach(function(e){c.push({isPayed:!1,amountPayed:0,ref:e.ref}),r.push({isPayed:!1,amountPayed:0,ref:e.ref,url:e.get("url"),paymentType:e.get("paymentType"),due:e.get("due"),username:e.get("username"),password:e.get("password"),notes:e.get("notes"),name:e.get("name"),mPayment:e.get("mPayment")})}),e.next=20,I.collection("years/".concat(t,"/months")).doc(n).set({bills:c},{merge:!0});case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(H.a)(N.a.mark(function e(t){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(H.a)(N.a.mark(function e(t){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ref.update({name:t.name,due:t.due,paymentType:t.paymentType,url:t.url,username:t.username,password:t.password,notes:t.notes});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(H.a)(N.a.mark(function e(t,n,a){var r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],t.forEach(function(e){return r.push({isPayed:e.isPayed,amountPayed:e.amountPayed,ref:e.ref})}),e.next=4,I.collection("years/".concat(n,"/months")).doc(a).update({bills:r});case 4:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(H.a)(N.a.mark(function e(t,n,a){var r,l;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.next=3,I.collection("bills").where("name","==",t.name).get();case 3:if(1!==(l=e.sent).size){e.next=8;break}r=l.docs[0].ref,e.next=11;break;case 8:return e.next=10,I.collection("bills").add({name:t.name,mPayment:parseFloat(t.mPayment),due:t.due,url:t.url,username:t.username,password:t.password,notes:t.notes,paymentType:t.paymentType});case 10:r=e.sent;case 11:return e.next=13,I.collection("years/".concat(n,"/months")).doc(a).set({bills:k.arrayUnion({isPayed:!1,amountPayed:0,ref:r})},{merge:!0});case 13:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}(),F=n(445),W=function(e,t){return function(){return Object(y.a)({},e,t)}},V={email:"",password:"",error:null},K=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={},n.onSubmit=function(e){var t=n.state,a=t.email,l=t.password,o=n.props.history;r.doSignInWithEmailAndPassword(a,l).then(function(){n.setState(Object(f.a)({},V)),o.push("/dashboard")}).catch(function(e){n.setState(W("error",e))}),e.preventDefault()},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.password,r=t.error,l=""===a||""===n;return c.a.createElement("div",{className:"login-form"},c.a.createElement(v.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},c.a.createElement(v.a.Column,{style:{maxWidth:450}},c.a.createElement(b.a,{as:"h2",color:"grey",textAlign:"center"},c.a.createElement(g.a,{name:"signup"})," Green Leaf"),c.a.createElement(E.a,{size:"large",onSubmit:this.onSubmit},c.a.createElement(C.a,{stacked:!0},c.a.createElement(E.a.Input,{value:n,onChange:function(t){return e.setState(W("email",t.target.value))},fluid:!0,icon:"user",iconPosition:"left",placeholder:"Email"}),c.a.createElement(E.a.Input,{fluid:!0,value:a,onChange:function(t){return e.setState(W("password",t.target.value))},icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),c.a.createElement(O.a,{disabled:l,color:"green",fluid:!0,size:"large"},"Login"),r&&c.a.createElement(w.a,{negative:!0},c.a.createElement(w.a.Header,null,"Sorry"),c.a.createElement("p",null,r.message)))))))}}]),t}(o.Component),Q=Object(F.a)(K),X=(n(369),function(){return c.a.createElement(O.a,{onClick:r.doSignOut},"Sign Out")}),Z=c.a.createContext(null),q=function(e){return function(t){var n=function(n){function r(){return Object(s.a)(this,r),Object(p.a)(this,Object(d.a)(r).apply(this,arguments))}return Object(h.a)(r,n),Object(m.a)(r,[{key:"componentDidMount",value:function(){var t=this;a.auth.onAuthStateChanged(function(n){e(n)||t.props.history.push("/")})}},{key:"render",value:function(){var e=this;return c.a.createElement(Z.Consumer,null,function(n){return n?c.a.createElement(t,e.props):null})}}]),r}(o.Component);return Object(F.a)(n)}},$=n(437),_=n(438),ee=n(433),te=n(439),ne=Array.from({length:31},function(e,t){return{key:t+1,text:t+1+"",value:t+1}}),ae=[{key:1,text:"Auto",value:1},{key:2,text:"Manual",value:2}],re=function(e){var t=e.billItem,n=e.onClose,a=e.onChangeInput,r=e.detailModalOpen,l=e.onDropdownChange,o=e.onConfirmRemove,u=e.confirmCancel,i=e.confirmOpen,s=e.onConfirmOpen;return c.a.createElement($.a,{style:{height:"auto"},open:r,onClose:n,dimmer:"blurring",size:"small",centered:!0},c.a.createElement($.a.Header,null,"Bill Details"),c.a.createElement($.a.Content,{scrolling:!0},t&&c.a.createElement(E.a,null,c.a.createElement(E.a.Group,null,c.a.createElement(E.a.Input,{label:"Company Name",placeholder:"Name",value:t.name,onChange:a,name:"name",width:6}),c.a.createElement(E.a.Input,{readOnly:!0,icon:"dollar",iconPosition:"left",label:"Monthly Payment",placeholder:"Value",name:"mPayment",value:t.mPayment,width:3}),c.a.createElement(E.a.Input,{label:"Due On"},c.a.createElement(_.a,{compact:!0,value:t.due,onChange:function(e,t){var n=t.value;return l("due",n)},selection:!0,options:ne})),c.a.createElement(E.a.Input,{label:"Payment Type"},c.a.createElement(_.a,{compact:!0,value:t.paymentType,onChange:function(e,t){var n=t.value;return l("paymentType",n)},selection:!0,options:ae}))),c.a.createElement(E.a.Group,null,c.a.createElement(E.a.Input,{label:"URL",placeholder:"http://...",width:10,name:"url",value:t.url,onChange:a})),c.a.createElement(E.a.Group,null,c.a.createElement(E.a.Input,{label:"Username",placeholder:"email/name",name:"username",value:t.username,onChange:a}),c.a.createElement(E.a.Input,{label:"Password",placeholder:"password",name:"password",value:t.password,onChange:a})),c.a.createElement(E.a.TextArea,{name:"notes",value:t.notes,onChange:a,label:"Notes",placeholder:"Additional Details"}))),c.a.createElement($.a.Actions,null,c.a.createElement(O.a,{color:"red",content:"Remove",onClick:s}),c.a.createElement(ee.a,{open:i,onCancel:u,onConfirm:o,size:"tiny",confirmButton:"Yes",style:{height:"auto"}}),c.a.createElement(O.a,{content:"Close",onClick:n})))},le=function(e){var t=e.modalOpen,n=e.onClose,a=e.billItem,r=e.onChangeInput;return c.a.createElement($.a,{style:{height:"auto",width:"25vw"},open:t,onClose:n,dimmer:"blurring",centered:!0},c.a.createElement($.a.Header,null,"Payment Details"),c.a.createElement($.a.Content,null,c.a.createElement(E.a,null,a&&c.a.createElement(E.a.Group,null,c.a.createElement(E.a.Input,{icon:"dollar",iconPosition:"left",label:"Amount Payed",placeholder:"Amount",value:a.amountPayed,onChange:r,name:"amountPayed",width:10})))),c.a.createElement($.a.Actions,null,c.a.createElement(O.a,{content:"Close",onClick:n})))},oe=function(e){var t=e.openDetails,n=e.toggleStatus,a=e.companyName,r=e.status,l=e.monthlyPayment,o=e.openPayModal;return c.a.createElement(te.a.Row,{positive:r},c.a.createElement(te.a.Cell,{selectable:!0,style:{paddingLeft:10},onClick:t},c.a.createElement("h4",null,a)),c.a.createElement(te.a.Cell,{collapsing:!0,negative:!r,textAlign:"center",selectable:!0,onClick:n},r?c.a.createElement(g.a,{name:"checkmark"}):c.a.createElement(g.a,{name:"close"})),c.a.createElement(te.a.Cell,{selectable:!0,collapsing:!0,textAlign:"center",onClick:o},c.a.createElement("h4",null,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-us";return new Intl.NumberFormat(n,{style:"currency",currency:t}).format(e)}(l))),c.a.createElement(te.a.Cell,{collapsing:!0,textAlign:"center"},c.a.createElement(O.a,{content:"Pay"})))},ce=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={paymentModalOpen:!1,detailModalOpen:!1,index:0,billItem:null,canUpdate:!1,confirmOpen:!1},n.openConfirm=function(){return n.setState({confirmOpen:!0})},n.closeConfirm=function(){return n.setState({confirmOpen:!1})},n.removeBill=function(){var e=n.props.bills,t=n.state.index;e.splice(t,1),n.setState({detailModalOpen:!1,canUpdate:!0})},n.toggleStatus=function(){var e=Object(H.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(a=n.props.bills)[t].isPayed=!a[t].isPayed,n.setState({bills:a,canUpdate:!0});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.openDetailModal=function(e){var t=n.props.bills;n.setState({detailModalOpen:!0,index:e,billItem:t[e]})},n.closeDetailModal=function(){var e=n.props.bills,t=n.state,a=t.index,r=t.billItem;e[a]=r,n.setState({detailModalOpen:!1})},n.formChangeInput=function(e,t){var a=t.name,r=t.value;n.setState(function(e){return{billItem:Object(f.a)({},e.billItem,Object(y.a)({},a,r)),canUpdate:!0}})},n.onDropdownChange=function(e,t){n.setState(function(n){return{billItem:Object(f.a)({},n.billItem,Object(y.a)({},e,t)),canUpdate:!0}})},n.openPayModal=function(e){var t=n.props.bills;n.setState({index:e,billItem:t[e],paymentModalOpen:!0})},n.closePayModal=function(){var e=n.props.bills,t=n.state,a=t.index,r=t.billItem;e[a]=r,n.setState({paymentModalOpen:!1})},n.updateBills=Object(H.a)(N.a.mark(function e(){var t,a,r,o;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.bills,r=t.year,o=t.month,n.setState({canUpdate:!1}),e.next=4,l.updateMasterBills(a);case 4:return e.next=6,l.updateCurrentBills(a,r,o);case 6:case"end":return e.stop()}},e,this)})),n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.paymentModalOpen,a=t.detailModalOpen,r=t.billItem,l=t.canUpdate,o=t.confirmOpen,u=this.props.bills;return c.a.createElement(te.a,{celled:!0},c.a.createElement(te.a.Header,null,c.a.createElement(te.a.Row,null,c.a.createElement(te.a.HeaderCell,null,"Bill"),c.a.createElement(te.a.HeaderCell,null,"Status"),c.a.createElement(te.a.HeaderCell,null,"Monthly Payment"),c.a.createElement(te.a.HeaderCell,null,"Make Payment"))),c.a.createElement(te.a.Body,null,u.map(function(t,n){return c.a.createElement(oe,{openDetails:function(){return e.openDetailModal(n)},toggleStatus:function(){return e.toggleStatus(n)},openPayModal:function(){return e.openPayModal(n)},companyName:t.name,status:t.isPayed,monthlyPayment:t.mPayment})})),c.a.createElement(re,{onConfirmRemove:this.removeBill,confirmCancel:this.closeConfirm,confirmOpen:o,onConfirmOpen:this.openConfirm,detailModalOpen:a,billItem:r,onClose:this.closeDetailModal,onChangeInput:this.formChangeInput,onDropdownChange:function(t,n){return e.onDropdownChange(t,n)}}),c.a.createElement(le,{billItem:r,modalOpen:n,onClose:this.closePayModal,onChangeInput:this.formChangeInput}),c.a.createElement(te.a.Footer,{fullWidth:!0},c.a.createElement(te.a.Row,null,c.a.createElement(te.a.HeaderCell,{colSpan:"4"},c.a.createElement(O.a,{floated:"right",content:"Update",disabled:!l,onClick:this.updateBills})))))}}]),t}(o.Component),ue=n(440),ie=Array.from({length:31},function(e,t){return{key:t+1,text:t+1+"",value:t+1}}),se=[{key:1,text:"Auto",value:1},{key:2,text:"Manual",value:2}],me=[{key:1,text:"Add Bill",value:1}],pe=Array.from({length:10},function(e,t){return{key:t+2018,text:t+2018+"",value:t+2018+""}}),de=[{key:"jan",text:"January",value:"January"},{key:"feb",text:"February",value:"February"},{key:"mar",text:"March",value:"March"},{key:"apr",text:"April",value:"April"},{key:"may",text:"May",value:"May"},{key:"jun",text:"June",value:"June"},{key:"jul",text:"July",value:"July"},{key:"aug",text:"August",value:"August"},{key:"sep",text:"September",value:"September"},{key:"oct",text:"October",value:"October"},{key:"nov",text:"November",value:"November"},{key:"dec",text:"December",value:"December"}],he=function(e){var t=e.addModalOpen,n=e.onClose,a=e.onSubmit,r=e.billItem,l=e.onChangeInput,o=e.onDropdownChange;return c.a.createElement($.a,{style:{height:"auto"},open:t,onClose:n,dimmer:"blurring",size:"small",centered:!0},c.a.createElement($.a.Header,null,"Add Bill"),c.a.createElement($.a.Content,null,r&&c.a.createElement(E.a,null,c.a.createElement(E.a.Group,null,c.a.createElement(E.a.Input,{label:"Company Name",placeholder:"Name",value:r.name,onChange:l,name:"name",width:6}),c.a.createElement(E.a.Input,{icon:"dollar",iconPosition:"left",label:"Monthly Payment",placeholder:"Value",name:"mPayment",onChange:l,value:r.mPayment,width:3}),c.a.createElement(E.a.Input,{label:"Due On"},c.a.createElement(_.a,{compact:!0,value:r.due,onChange:function(e,t){var n=t.value;return o("due",n)},selection:!0,options:ie})),c.a.createElement(E.a.Input,{label:"Payment Type"},c.a.createElement(_.a,{compact:!0,value:r.paymentType,onChange:function(e,t){var n=t.value;return o("paymentType",n)},selection:!0,options:se}))),c.a.createElement(E.a.Group,null,c.a.createElement(E.a.Input,{label:"URL",placeholder:"http://...",width:10,name:"url",value:r.url,onChange:l})),c.a.createElement(E.a.Group,null,c.a.createElement(E.a.Input,{label:"Username",placeholder:"email/name",name:"username",value:r.username,onChange:l}),c.a.createElement(E.a.Input,{label:"Password",placeholder:"password",name:"password",value:r.password,onChange:l})),c.a.createElement(E.a.TextArea,{name:"notes",value:r.notes,onChange:l,label:"Notes",placeholder:"Additional Details"}))),c.a.createElement($.a.Actions,null,c.a.createElement(O.a,{content:"Submit",onClick:a})))},fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={billItem:{name:"",mPayment:"0",due:0,notes:"",username:"",password:"",paymentType:0,url:""},addModalOpen:!1},n.onDropdownChange=function(e,t){n.setState(function(n){return{billItem:Object(f.a)({},n.billItem,Object(y.a)({},e,t))}})},n.formChangeInput=function(e,t){var a=t.name,r=t.value;n.setState(function(e){return{billItem:Object(f.a)({},e.billItem,Object(y.a)({},a,r))}})},n.formSubmit=Object(H.a)(N.a.mark(function e(){var t,a,r,o;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.billItem,a=n.props,r=a.year,o=a.month,e.next=4,l.addBill(t,r,o);case 4:n.setState({billItem:{name:"",mPayment:"0",due:0,notes:"",username:"",password:"",paymentType:0,url:""}}),n.props.addedBill(),n.handleClose();case 7:case"end":return e.stop()}},e,this)})),n.handleChange=function(e,t){1===t.value&&n.setState({addModalOpen:!0})},n.handleClose=function(){return n.setState({addModalOpen:!1})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.year,a=t.month,r=this.state,l=r.addModalOpen,o=r.billItem;return c.a.createElement(ue.a,{raised:!0,fluid:!0},c.a.createElement(ue.a.Content,null,c.a.createElement(ue.a.Header,null,"Bill Activity")),c.a.createElement(ue.a.Content,null,c.a.createElement("div",{style:{display:"flex",flex:1,justifyContent:"space-between"}},c.a.createElement("div",null,c.a.createElement(_.a,{selectOnNavigation:!1,style:{marginRight:5},compact:!0,wrapSelection:!0,placeholder:"Year",selection:!0,value:n,selectOnBlur:!1,options:pe,onChange:this.props.changeYear}),c.a.createElement(_.a,{selectOnNavigation:!1,compact:!0,wrapSelection:!0,placeholder:"Month",selection:!0,value:a,selectOnBlur:!1,options:de,onChange:this.props.changeMonth})),c.a.createElement(_.a,{compact:!0,selection:!0,value:0,text:"Options",selectOnBlur:!1,onChange:this.handleChange,options:me})),c.a.createElement(he,{addModalOpen:l,onClose:this.handleClose,onSubmit:this.formSubmit,onChangeInput:this.formChangeInput,billItem:o,onDropdownChange:function(t,n){return e.onDropdownChange(t,n)}})))}}]),t}(o.Component),ye=function(e){var t=e.profile,n=e.email;return c.a.createElement(ue.a,{color:"blue",raised:!0},c.a.createElement(ue.a.Content,null,c.a.createElement(ue.a.Header,null,t.name),c.a.createElement(ue.a.Meta,null,n),c.a.createElement(ue.a.Meta,null,"Current User"),c.a.createElement(ue.a.Description,null,t.occupation)),c.a.createElement(ue.a.Content,{extra:!0},c.a.createElement(X,null)))},ve=function(e){var t=e.users;return c.a.createElement(ue.a,{color:"green",raised:!0},c.a.createElement(ue.a.Content,null,c.a.createElement(ue.a.Header,null,"Family")),t.map(function(e){return c.a.createElement(ue.a.Content,{header:e.name,meta:e.member,description:e.occupation})}))},be=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={profile:null,users:[],bills:[],year:"",month:""},n.addedBill=Object(H.a)(N.a.mark(function e(){var t,a,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.year,r=t.month,e.t0=n,e.next=4,l.getAllBills(a,r);case 4:e.t1=e.sent,e.t2={bills:e.t1},e.t0.setState.call(e.t0,e.t2);case 7:case"end":return e.stop()}},e,this)})),n.changeYear=function(){var e=Object(H.a)(N.a.mark(function e(t,a){var r,o;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.value,o=n.state.month,e.t0=n,e.t1=r,e.next=6,l.getAllBills(r,o);case 6:e.t2=e.sent,e.t3={year:e.t1,bills:e.t2},e.t0.setState.call(e.t0,e.t3);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.changeMonth=function(){var e=Object(H.a)(N.a.mark(function e(t,a){var r,o;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.value,o=n.state.year,e.t0=n,e.t1=r,e.next=6,l.getAllBills(o,r);case 6:e.t2=e.sent,e.t3={month:e.t1,bills:e.t2},e.t0.setState.call(e.t0,e.t3);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(H.a)(N.a.mark(function e(){var t,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,l.getMyUser();case 3:return e.t1=e.sent,e.next=6,l.getOtherUsers();case 6:return e.t2=e.sent,e.next=9,l.getAllBills();case 9:e.t3=e.sent,e.t4={profile:e.t1,users:e.t2,bills:e.t3},e.t0.setState.call(e.t0,e.t4),t=new Date,n=t.toLocaleString("en-us",{year:"numeric"}),a=t.toLocaleString("en-us",{month:"long"}),this.setState({year:n,month:a});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.profile,n=e.users,a=e.bills,r=e.year,l=e.month;return c.a.createElement("div",{style:{display:"flex",flex:1}},c.a.createElement("div",{style:{display:"flex",flex:0,padding:20}},c.a.createElement(Z.Consumer,null,function(e){return c.a.createElement("div",null,t&&c.a.createElement(ye,{email:e.email,profile:t}),c.a.createElement(ve,{users:n}))})),c.a.createElement("div",{style:{overflowY:"scroll",display:"flex",flex:1,padding:20,flexDirection:"column"}},c.a.createElement("div",{style:{marginBottom:20}},c.a.createElement(fe,{year:r,month:l,changeYear:this.changeYear,changeMonth:this.changeMonth,addedBill:this.addedBill})),c.a.createElement(ce,{bills:a,year:r,month:l})))}}]),t}(o.Component),ge=q(function(e){return!!e})(be),Ee=n(446),Ce=n(434),Oe=function(e){return function(t){function n(e){var t;return Object(s.a)(this,n),(t=Object(p.a)(this,Object(d.a)(n).call(this,e))).state={authUser:null},t}return Object(h.a)(n,t),Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;a.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"render",value:function(){var t=this.state.authUser;return c.a.createElement(Z.Provider,{value:t},c.a.createElement(e,this.props))}}]),n}(o.Component)}(function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement(Ee.a,null,c.a.createElement(Ce.a,{exact:!0,path:"/",component:Q}),c.a.createElement(Ce.a,{exact:!0,path:"/dashboard",component:ge}))}}]),t}(o.Component)),we=n(436);i.a.render(c.a.createElement(we.a,null,c.a.createElement(Oe,null)),document.getElementById("root"))}},[[238,2,1]]]);
//# sourceMappingURL=main.9bec61aa.chunk.js.map