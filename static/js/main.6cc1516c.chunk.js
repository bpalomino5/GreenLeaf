(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{238:function(e,t,n){e.exports=n(421)},243:function(e,t,n){},245:function(e,t,n){},247:function(e,t,n){},421:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"auth",function(){return x}),n.d(a,"db",function(){return S});var r={};n.r(r),n.d(r,"doCreateUserWithEmailAndPassword",function(){return k}),n.d(r,"doSignInWithEmailAndPassword",function(){return A}),n.d(r,"doSignOut",function(){return U}),n.d(r,"doPasswordReset",function(){return B}),n.d(r,"doPasswordUpdate",function(){return I});var l={};n.r(l),n.d(l,"getOtherUsers",function(){return H}),n.d(l,"getMyUser",function(){return D}),n.d(l,"getAllBills",function(){return z}),n.d(l,"addBill",function(){return R});var u=n(0),c=n.n(u),o=n(66),i=n.n(o),s=(n(243),n(29)),m=n(30),d=n(32),h=n(31),p=n(33),f=(n(245),n(206)),b=n(67),E=(n(247),n(438)),v=n(439),y=n(142),g=n(431),O=n(441),C=n(437),j=n(72),w=n.n(j),P=(n(256),n(258),{apiKey:"AIzaSyAAZri65JCYTUIjvVgU6mB-tXz118lUhbQ",authDomain:"greenleaf-8aa9b.firebaseapp.com",databaseURL:"https://greenleaf-8aa9b.firebaseio.com",projectId:"greenleaf-8aa9b",storageBucket:"",messagingSenderId:"537893788938"});w.a.apps.length||w.a.initializeApp(P);var S=w.a.firestore(),x=w.a.auth(),k=function(e,t){return x.createUserWithEmailAndPassword(e,t)},A=function(e,t){return x.signInWithEmailAndPassword(e,t)},U=function(){return x.signOut()},B=function(e){return x.sendPasswordResetEmail(e)},I=function(e){return x.currentUser.updatePassword(e)},M=n(24),N=n.n(M),F=n(47),H=function(){var e=Object(F.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,S.collection("users").get();case 3:return e.sent.forEach(function(e){e.get("uid")!==x.currentUser.uid&&t.push(e.data())}),e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(F.a)(N.a.mark(function e(){var t,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.collection("users").get();case 2:return t=e.sent,n=null,t.forEach(function(e){e.get("uid")===x.currentUser.uid&&(n=e.data())}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(F.a)(N.a.mark(function e(){var t,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,S.collection("years/2018/months/October/bills").get();case 3:return n=e.sent,e.next=6,Promise.all(n.docs.map(function(){var e=Object(F.a)(N.a.mark(function e(n){var a,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.get("isPayed"),e.next=3,n.get("ref").get();case 3:r=e.sent,t.push({isPayed:a,name:r.get("name"),mPayment:r.get("mPayment")});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(F.a)(N.a.mark(function e(t,n){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.collection("bills").add({name:t,mPayment:parseFloat(n)});case 2:a=e.sent,S.collection("years/2018/months/October/bills").add({isPayed:!1,ref:a});case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),W=n(443),J=function(e,t){return function(){return Object(b.a)({},e,t)}},L={email:"",password:"",error:null},G=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={},n.onSubmit=function(e){var t=n.state,a=t.email,l=t.password,u=n.props.history;r.doSignInWithEmailAndPassword(a,l).then(function(){n.setState(Object(f.a)({},L)),u.push("/dashboard")}).catch(function(e){n.setState(J("error",e))}),e.preventDefault()},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.password,r=t.error,l=""===a||""===n;return c.a.createElement("div",{className:"login-form"},c.a.createElement(E.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},c.a.createElement(E.a.Column,{style:{maxWidth:450}},c.a.createElement(v.a,{as:"h2",color:"grey",textAlign:"center"},c.a.createElement(y.a,{name:"signup"})," Green Leaf"),c.a.createElement(g.a,{size:"large",onSubmit:this.onSubmit},c.a.createElement(O.a,{stacked:!0},c.a.createElement(g.a.Input,{value:n,onChange:function(t){return e.setState(J("email",t.target.value))},fluid:!0,icon:"user",iconPosition:"left",placeholder:"Email"}),c.a.createElement(g.a.Input,{fluid:!0,value:a,onChange:function(t){return e.setState(J("password",t.target.value))},icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),c.a.createElement(C.a,{disabled:l,color:"green",fluid:!0,size:"large"},"Login"),r&&c.a.createElement("p",null,r.message))))))}}]),t}(u.Component),V=Object(W.a)(G),K=function(){return c.a.createElement(C.a,{onClick:r.doSignOut},"Sign Out")},Q=c.a.createContext(null),T=function(e){return function(t){var n=function(n){function r(){return Object(s.a)(this,r),Object(d.a)(this,Object(h.a)(r).apply(this,arguments))}return Object(p.a)(r,n),Object(m.a)(r,[{key:"componentDidMount",value:function(){var t=this;a.auth.onAuthStateChanged(function(n){e(n)||t.props.history.push("/")})}},{key:"render",value:function(){var e=this;return c.a.createElement(Q.Consumer,null,function(n){return n?c.a.createElement(t,e.props):null})}}]),r}(u.Component);return Object(W.a)(n)}},X=n(434),Y=n(436),Z=n(435),q=n(433),$=[{key:1,text:"Add Bill",value:1},{key:2,text:"Remove Bill",value:2}],_=function(e){var t=e.companyName,n=e.status,a=e.monthlyPayment;return c.a.createElement(X.a.Row,null,c.a.createElement(X.a.Cell,null,t),c.a.createElement(X.a.Cell,null,n?"Payed":"No"),c.a.createElement(X.a.Cell,null,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-us";return new Intl.NumberFormat(n,{style:"currency",currency:t}).format(e)}(a)))},ee=function(e){var t=e.bills;return c.a.createElement("div",null,c.a.createElement(X.a,{padded:!0},c.a.createElement(X.a.Header,null,c.a.createElement(X.a.Row,null,c.a.createElement(X.a.HeaderCell,null,"Bill"),c.a.createElement(X.a.HeaderCell,null,"Status"),c.a.createElement(X.a.HeaderCell,null,"Monthly Payment"))),c.a.createElement(X.a.Body,null,t.map(function(e){return c.a.createElement(_,{companyName:e.name,status:e.isPayed,monthlyPayment:e.mPayment})}))))},te=function(e){var t=e.profile,n=e.email;return c.a.createElement(Y.a,{color:"blue",raised:!0},c.a.createElement(Y.a.Content,null,c.a.createElement(Y.a.Header,null,t.name),c.a.createElement(Y.a.Meta,null,n),c.a.createElement(Y.a.Meta,null,"Current User"),c.a.createElement(Y.a.Description,null,t.occupation)),c.a.createElement(Y.a.Content,{extra:!0},c.a.createElement(K,null)))},ne=function(e){var t=e.users;return c.a.createElement(Y.a,{color:"green",raised:!0},c.a.createElement(Y.a.Content,null,c.a.createElement(Y.a.Header,null,"Family")),t.map(function(e){return c.a.createElement(Y.a.Content,{header:e.name,meta:e.member,description:e.occupation})}))},ae=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={addModalOpen:!1,cName:"",mPayment:""},n.handleFormChange=function(e,t){var a=t.name,r=t.value;return n.setState(Object(b.a)({},a,r))},n.handleFormSubmit=function(){var e=n.state,t=e.cName,a=e.mPayment;l.addBill(t,a),n.setState({cName:"",mPayment:""}),n.handleClose()},n.handleChange=function(e,t){1===t.value&&n.setState({addModalOpen:!0})},n.handleClose=function(){return n.setState({addModalOpen:!1})},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.addModalOpen,n=e.cName,a=e.mPayment;return c.a.createElement(Y.a,{raised:!0,fluid:!0},c.a.createElement(Y.a.Content,null,c.a.createElement(Y.a.Header,null,"Bill Activity")),c.a.createElement(Y.a.Content,null,c.a.createElement(Z.a,{text:"Options",button:!0,onChange:this.handleChange,options:$}),c.a.createElement(q.a,{open:t,onClose:this.handleClose,size:"small",dimmer:"blurring"},c.a.createElement(q.a.Header,null,"Add Bill"),c.a.createElement(q.a.Content,null,c.a.createElement(g.a,{onSubmit:this.handleFormSubmit},c.a.createElement(g.a.Group,null,c.a.createElement(g.a.Input,{label:"Company Name",placeholder:"Name",value:n,name:"cName",onChange:this.handleFormChange,width:6}),c.a.createElement(g.a.Input,{label:"Monthly Payment",placeholder:"Value",value:a,width:3,name:"mPayment",onChange:this.handleFormChange})),c.a.createElement(g.a.Button,null,"Submit"))))))}}]),t}(u.Component),re=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={profile:null,users:[],bills:[]},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(F.a)(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,l.getMyUser();case 3:return e.t1=e.sent,e.next=6,l.getOtherUsers();case 6:return e.t2=e.sent,e.next=9,l.getAllBills();case 9:e.t3=e.sent,e.t4={profile:e.t1,users:e.t2,bills:e.t3},e.t0.setState.call(e.t0,e.t4);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.profile,n=e.users,a=e.bills;return c.a.createElement("div",null,c.a.createElement(E.a,{columns:2,divided:!0,padded:!0},c.a.createElement(E.a.Column,{width:4},c.a.createElement(Q.Consumer,null,function(e){return c.a.createElement("div",null,t&&c.a.createElement(te,{email:e.email,profile:t}),c.a.createElement(ne,{users:n}))})),c.a.createElement(E.a.Column,{width:6,computer:11},c.a.createElement(ae,null),c.a.createElement(ee,{bills:a}))))}}]),t}(u.Component),le=T(function(e){return!!e})(re),ue=n(440),ce=n(430),oe=function(e){return function(t){function n(e){var t;return Object(s.a)(this,n),(t=Object(d.a)(this,Object(h.a)(n).call(this,e))).state={authUser:null},t}return Object(p.a)(n,t),Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;a.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"render",value:function(){var t=this.state.authUser;return c.a.createElement(Q.Provider,{value:t},c.a.createElement(e,this.props))}}]),n}(u.Component)}(function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement(ue.a,null,c.a.createElement(ce.a,{exact:!0,path:"/",component:V}),c.a.createElement(ce.a,{exact:!0,path:"/dashboard",component:le}))}}]),t}(u.Component)),ie=n(432);i.a.render(c.a.createElement(ie.a,null,c.a.createElement(oe,null)),document.getElementById("root"))}},[[238,2,1]]]);
//# sourceMappingURL=main.6cc1516c.chunk.js.map